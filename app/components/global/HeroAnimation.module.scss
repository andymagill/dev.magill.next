//  @app/components/global/HeroAnimation.module.scss
// GPU-accelerated background animation with discrete particle elements

@property --linear-0-angle {
	syntax: '<angle>';
	initial-value: 161.3deg;
	inherits: false;
}

@property --gradient-l0-c0 {
	syntax: '<color>';
	initial-value: #14ad2eff;
	inherits: false;
}

@property --gradient-l0-p0 {
	syntax: '<percentage>';
	initial-value: 0%;
	inherits: false;
}

@property --gradient-l0-c1 {
	syntax: '<color>';
	initial-value: #dd4648ff;
	inherits: false;
}

@property --gradient-l0-p1 {
	syntax: '<percentage>';
	initial-value: 55.2%;
	inherits: false;
}

@property --gradient-l0-c2 {
	syntax: '<color>';
	initial-value: #36647dff;
	inherits: false;
}

@property --gradient-l0-p2 {
	syntax: '<percentage>';
	initial-value: 100%;
	inherits: false;
}

@keyframes gradient-animation {
	0% {
		--linear-0-angle: 161.3deg;
		--gradient-l0-c0: #14ad2eff;
		--gradient-l0-p0: calc(0% + var(--gradient-c0-offset, 0%));
		--gradient-l0-c1: #dd4648ff;
		--gradient-l0-p1: calc(55.2% + var(--gradient-c1-offset, 0%));
		--gradient-l0-c2: #36647dff;
		--gradient-l0-p2: calc(100% + var(--gradient-c2-offset, 0%));
	}
	33.3% {
		--linear-0-angle: 138.7deg;
		--gradient-l0-c0: #d97e1aff;
		--gradient-l0-p0: calc(0% + var(--gradient-c0-offset, 0%));
		--gradient-l0-c1: #4d890fff;
		--gradient-l0-p1: calc(40% + var(--gradient-c1-offset, 0%));
		--gradient-l0-c2: #8629aaff;
		--gradient-l0-p2: calc(100% + var(--gradient-c2-offset, 0%));
	}
	66.6% {
		--linear-0-angle: 146.3deg;
		--gradient-l0-c0: #bb603aff;
		--gradient-l0-p0: calc(13.2% + var(--gradient-c0-offset, 0%));
		--gradient-l0-c1: #520d73ff;
		--gradient-l0-p1: calc(48.4% + var(--gradient-c1-offset, 0%));
		--gradient-l0-c2: #2d7b0fff;
		--gradient-l0-p2: calc(100% + var(--gradient-c2-offset, 0%));
	}
	100% {
		--linear-0-angle: 161.3deg;
		--gradient-l0-c0: #14ad2eff;
		--gradient-l0-p0: calc(0% + var(--gradient-c0-offset, 0%));
		--gradient-l0-c1: #dd4648ff;
		--gradient-l0-p1: calc(55.2% + var(--gradient-c1-offset, 0%));
		--gradient-l0-c2: #36647dff;
		--gradient-l0-p2: calc(100% + var(--gradient-c2-offset, 0%));
	}
}

.heroAnimation {
	position: absolute;
	inset: 0;
	width: 100%;
	height: 100%;
	z-index: -1;
	overflow: hidden;

	background: linear-gradient(
		var(--linear-0-angle),
		var(--gradient-l0-c0) var(--gradient-l0-p0),
		var(--gradient-l0-c1) var(--gradient-l0-p1),
		var(--gradient-l0-c2) var(--gradient-l0-p2)
	);

	animation: gradient-animation 12s ease-in-out infinite;
}

.particle {
	position: absolute;
	top: var(--top);
	left: 0; 
	width: var(--size);
	height: var(--size);
	border-radius: 50%;
	
	/* The base color is provided, we apply a larger solid center for defined edges */
	background: radial-gradient(
		closest-side,
		var(--base-color) 0%,
		var(--base-color) 85%,
		transparent 100%
	);
	
	pointer-events: none;
	will-change: transform, opacity;
	transform: translate3d(-100%, 0, 0); /* Start off-screen */

	filter: hue-rotate(var(--hue));
	
	animation-name: particle-drift, particle-fade, particle-scale;
	animation-timing-function: linear, ease-in-out, ease-in-out;
	animation-iteration-count: infinite;
	
	animation-duration: var(--duration), 9s, 12s; /* Drift is unique, others are standard beats */
	animation-delay: var(--delay), var(--delay), var(--delay);
}

.heroAnimation {
	animation-delay: var(--animation-delay, 0ms);
}


@keyframes particle-drift {
	0% {
		transform: translate3d(-50vw, 0, 0);
	}
	100% {
		transform: translate3d(120vw, 0, 0);
	}
}

@keyframes particle-fade {
	0%, 100% { opacity: 0.8; }
	50% { opacity: 0.4; }
}

@keyframes particle-scale {
	0%, 100% { scale: 1.1; }
	50% { scale: 0.9; }
}
